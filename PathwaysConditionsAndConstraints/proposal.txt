# DRAFT PROPOSAL

### New Class:

ceterms:Constraint
  Label: Constraint
  Definition: Resource that identifies the parameters defining a limitation or restriction applicable to candidate pathway components.

### New Class:

ceterms:ConstraintRule
  Label: Constraint Rule
  Definition: Abstract class of executable constraints.
  Comment: An instance of the Constraint Rule class is a deployable machine solution for executing pathway constraints such as XPath, JSONPath, JsonLogic, ShEx, SHACL, BPMN, XPDL and BPEL.


### New Property

ceterms:comparator
  Label: Comparator
  Definition: Type of symbol that denotes an operator in a constraint expression such as "gteq" (greater than or equal to), "eq" (equal to), "lt" (less than), "isAllOf" (is all of), "isAnyOf" (is any of); select from an existing enumeration of such types.
  Domain: ceterms:Constraint
  Range: ceterms:Concept (Select from a controlled vocabulary)

### New Property

ceterms:hasConstraint
  Label: Has Constraint
  Definition: Referenced resource defines a single constraint.
  Domain: ceterms:ComponentCondition
  Range: ceterms:Constraint

### New Property

ceterms:leftSource
  Label: Left Source
  Definition: Left hand parameter of a constraint.
  Domain: ceterms:Constraint
  Range: rdf:Property, skos:Concept (Select from a controlled vocabulary)

### New Property

ceterms:logicalOperator
  Label: Logical Operator
  Definition: Type that denotes a logical operation such as "AND", "OR", "NOT"; select from an existing enumeration of such types.
  Domain: ceterms:ComponentCondition
  Comment: Only a single instance of logicalOperator is allowed defining operations on two or more nested ComponentCondition entities, Constraint entities, or a mix of ComponentCondition and Constraint entities.
  Range: ceterms:Concept (Select from a controlled vocabulary)

### New Property

ceterms:precededBy
  Label: Preceded By
  Definition: Resource that logically comes before this resource.
  Domain: skos:Concept
  Range: skos:Concept, ceterms:PathwayComponent (subclasses)
  InverseOf: ceterms:precedes

### New Property

ceterms:rightSource
  Label: Right Source
  Definition: Constraint expression's righthand parameter.
  Domain: ceterms:Constraint
  Range: ceterms:Concept (Select from a controlled vocabulary), rdfs:Literal

### New Property

ceterms:rightAction
  Label: Right Action
  Definition: Action performed on the right constraint; select from an existing enumeration of such types.
  Domain: ceterms:Constraint
  Range: ceterms:Concept (Select from a controlled vocabulary)


### Modify Existing Properties:

Add:
URL: ceterms:hasCondition
Domain: ceterms:ComponentCondition
Range: ceterms:ComponentCondition

Add:
Subject: ceterms:hasPart
Predicate: schema:domainIncludes
Object: ceterms:Pathway

Add:
Subject: ceterms:hasPart
Predicate: schema:rangeIncludes
Object: ceterms:PathwayComponent subclasses

Add:
Subject: ceterms:isPartOf
Predicate: schema:domainIncludes
Object: ceterms:PathwayComponent subclasses

Add:
Subject: ceterms:hasPart
Predicate: owl:inverseOf
Object: ceterms:isPartOf

Add:
Subject: ceterms:isPartOf
Predicate: owl:inverseOf
Object: ceterms:hasPart

Add:
Subject: ceasn:hasChild
Predicate: owl:inverseOf
Object: ceasn:isChildOf

URL: ceterms:componentCondition
Domain: ceterms:ComponentCondition
Range: ceterms:ComponentCondition

Add:
Subject: ceasn:isChildOf
Predicate: owl:inverseOf
Object: ceasn:hasChild

Add:
Subject: ceterms:precedes
Predicate: owl:inverseOf
Object: ceterms:precededBy

Add:
Subject: ceterms:precedes
Predicate: schema:domainIncludes
Object: skos:Concept

Add:
Subject: ceterms:precedes
Predicate: schema:rangeIncludes
Object: skos:Concept

Remove:
Subject: ceasn:hasChild
Predicate: schema:domainIncludes
Object: ceterms:Pathway

Remove:
URL: ceterms:prerequisite
Predicate: schema:domainIncludes
Object: ceterms:PathwayComponent subclasses


### Drop Unstable Terms:

URL: ceterms:RuleSet (unstable)

URL: ceterms:RuleSetProfile (unstable)

URL: ceterms:alternativeRuleSet (unstable)


### New Concept Scheme (Constraint concepts)
ceterms:ConstraintConcepts a skos:ConceptScheme
  Title: Constraint Concepts
  Description: Concepts for describing constraints.
  dcterms:source: W3C Open Digital Rights Language (ODRL)

### New Concepts (Comparator)
ConstraintConcepts:Comparator a skos:Concept
  skos:prefLabel: Comparator Vocabulary
  skos:definition Operator in a constraint expression; select from an existing enumeration.
  skos:scopeNote: Used in CTDL constraints as values of the ceterms:operator property to make a comparison that should yield true or false. In all cases the left source of data is compared to the right source, sometimes the comparison is made after an action is applied, e.g. finding the mean of several numbers.
  skos:member: ConstraintConcepts:eq, ConstraintConcepts:neq, ConstraintConcepts:gt, ConstraintConcepts:lt, ConstraintConcepts:gteq, ConstraintConcepts:lteq

ConstraintConcepts:eq a skos:Concept
  skos:prefLabel: Equal to
  skos:definition: The value of the left is equal to the value of the right.
  skos:exactMatch: http://www.w3.org/ns/odrl/2/eq
  skos:inScheme: ceterms:ConstraintConcepts

ConstraintConcepts:neq a skos:Concept
  skos:prefLabel:  Not equal to
  skos:definition: the value of the left is not equal to the value of the right.
  skos:exactMatch: http://www.w3.org/ns/odrl/2/neq
  skos:inScheme: ceterms:ConstraintConcepts

ConstraintConcepts:gt a skos:Concept
  skos:prefLabel:  Greater than
  skos:definition: the value of the left is greater than the value of the right.
  skos:exactMatch: http://www.w3.org/ns/odrl/2/gt
  skos:inScheme: ceterms:ConstraintConcepts

ConstraintConcepts:lt a skos:Concept
  skos:prefLabel:  Less than
  skos:definition: the value of the left is less than the value of the right.
  skos:exactMatch: http://www.w3.org/ns/odrl/2/lt
  skos:inScheme: ceterms:ConstraintConcepts

ConstraintConcepts:gteq a skos:Concept
  skos:prefLabel:  Greater than or equal to
  skos:definition: the value of the left is greater than or equal to the value of the right.
  skos:exactMatch: http://www.w3.org/ns/odrl/2/gteq
  skos:inScheme: ceterms:ConstraintConcepts

ConstraintConcepts:lteq a skos:Concept
  skos:prefLabel:  Less than or equal
  skos:definition: the value of the left is less than or equal to the value of the right.
  skos:exactMatch: http://www.w3.org/ns/odrl/2/lteq
  skos:inScheme: ceterms:ConstraintConcepts

### New Concepts (Array Operations)
ConstraintConcepts:ArrayOperations a skos:Collection
  skos:prefLabel: Array Operations
  skos:scopeNote: Used in CTDL for actions performed on arrays, lists or sets or values in order to obtain some other value.
  skos:member: ConstraintConcepts:sum, ConstraintConcepts:mean, ConstraintConcepts:min, ConstraintConcepts:max, ConstraintConcepts:countDistinct, ConstraintConcepts:oneOf, ConstraintConcepts:anyOf, ConstraintConcepts:allOf

ConstraintConcepts:sum a skos:Concept
  skos:prefLabel: Sum
  skos:definition: The numeric total obtained by adding all the values.
  skos:inScheme: ceterms:ConstraintConcepts

ConstraintConcepts:mean a skos:Concept
  skos:prefLabel: Mean
  skos:definition: The arithmetic mean of all the values.
  skos:inScheme: ceterms:ConstraintConcepts

ConstraintConcepts:min a skos:Concept
  skos:prefLabel:  Minimum
  skos:definition: The highest of all the values.
  skos:inScheme: ceterms:ConstraintConcepts

ConstraintConcepts:max a skos:Concept
  skos:prefLabel:  Maximum
  skos:definition: The lowest of all the values.
  skos:inScheme: ceterms:ConstraintConcepts

ConstraintConcepts:countDistinct a skos:Concept
  skos:prefLabel:  Count distinct
  skos:definition: The number of unique values, yields a number.
  skos:inScheme: ceterms:ConstraintConcepts

ConstraintConcepts:oneOf a skos:Concept
  skos:prefLabel:  One of
  skos:definition: Any one (but no more) of the values.
  skos:relatedMatch http://www.w3.org/ns/odrl/2/isA
  skos:relatedMatch http://www.w3.org/ns/odrl/2/isNoneOf
  skos:inScheme: ceterms:ConstraintConcepts

ConstraintConcepts:anyOf a skos:Concept
  skos:prefLabel: Any of
  skos:definition: Any (one or more) of the values.
  skos:relatedMatch http://www.w3.org/ns/odrl/2/isAnyOf
  skos:relatedMatch http://www.w3.org/ns/odrl/2/isNoneOf
  skos:inScheme: ceterms:ConstraintConcepts

ConstraintConcepts:allOf a skos:Concept
  skos:prefLabel: All of
  skos:definition: All of the values.
  skos:relatedMatch http://www.w3.org/ns/odrl/2/isAllOf
  skos:inScheme: ceterms:ConstraintConcepts

### New Concepts (Logical Operators)
ConstraintConcepts:LogicalOperators a skos:Collection
  skos:prefLabel: Logical Operators
  skos:scopeNote: Used in CTDL for types of logical operator for combining two or more nested ComponentCondition entities, Constraint entities, or a mix of ComponentCondition and Constraint entities.
  skos:member: ConstraintConcepts:and, ConstraintConcepts:or, ConstraintConcepts:onlyOne, ConstraintConcepts:andSequence

ConstraintConcepts:and a skos:Concept
  skos:prefLabel: And
  skos:definition: Relation is satisfied when all of the Constraints and Component Conditions are satisfied.
  skos:scopeNote: This concept MUST only be used for logical constraints, and the list of values MUST be instances of Constraint, Component Condition or a mix of Constraints and Component Conditions
  skos:exactMatch: http://www.w3.org/ns/odrl/2/and
  skos:inScheme: ceterms:ConstraintConcepts

ConstraintConcepts:or a skos:Concept
  skos:prefLabel: Or
  skos:definition: Relation is satisfied when at least one of the Constraints is satisfied.
  skos:scopeNote: This concept MUST only be used for logical constraints, and the list of values MUST be instances of Constraint, Component Condition or a mix of Constraints and Component Conditions
  skos:exactMatch: http://www.w3.org/ns/odrl/2/or
  skos:inScheme: ceterms:ConstraintConcepts

ConstraintConcepts:onlyOne a skos:Concept
  skos:prefLabel: Only one
  skos:definition: Relation is satisfied when at only one, and not more, of the Constraints is satisfied.
  skos:scopeNote: This concept MUST only be used for logical constraints, and the list of values MUST be instances of Constraint, Component Condition or a mix of Constraints and Component Conditions
  skos:exactMatch: http://www.w3.org/ns/odrl/2/xone
  skos:inScheme: ceterms:ConstraintConcepts

ConstraintConcepts:andSequence a skos:Concept
  skos:prefLabel: And sequence
  skos:definition: Relation is satisfied when each of the Constraints are satisfied in the order specified.
  skos:scopeNote: This concept MUST only be used for Logical Constraints, and the list of operand values MUST be Constraint instances. The order of the list MUST be preserved.
  skos:exactMatch: http://www.w3.org/ns/odrl/2/andSequence
  skos:inScheme: ceterms:ConstraintConcepts
